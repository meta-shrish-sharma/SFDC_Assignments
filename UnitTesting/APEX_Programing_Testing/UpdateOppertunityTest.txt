@isTest(SeeAllData=true)
public class UpdateOppertunityTest 
{
    //This test is to verify that can we insert null value or not
   @isTest static void TestNullBillToContact() 
    {
    Opportunity op = new Opportunity();
    op.Name = 'newOppourtnity';
    op.Amount = 500;
    op.CloseDate = system.today();
    op.StageName = 'Prospecting';
    
    Test.startTest();
    Database.SaveResult result = Database.insert(op, false);
    Test.stopTest();
        
    System.assert(!result.isSuccess());
    //System.assert(result.getErrors().size() > 0);
    //System.assertEquals('BillToContact Field cannot be null for these ID',result.getErrors()[0].getMessage());
                             
    }
    
    //Test the value of manager field is getting autopopulated or not
 	@isTest static void testAutoPopulatedContact() 
    {
    ID contactID = '0032w000002AKNEAA4';
    Opportunity op = new Opportunity();
    op.Name = 'newOppourtnity';
    op.Amount = 500;
    op.CloseDate = system.today();
    op.StageName = 'Prospecting';
    op.BillToContact__c = contactID;
    
    Test.startTest();
    insert op;
    Test.stopTest();
    ID newopportunity = [select manager__c from opportunity where id = :op.Id].manager__c;
    System.assert(newopportunity != null);
                             
    }
}