global class mailToOpportunityOwner implements Schedulable{
    
    global void execute(SchedulableContext ctx) 
    {
        List<opportunity> Opper = [SELECT lastmodifieddate, Owner.Email FROM Opportunity WHERE lastmodifieddate < LAST_N_DAYS:30];
        for(opportunity oprtn: Opper)
        {
            
            messaging.SingleEmailMessage email1=new messaging.SingleEmailMessage();
            string[]toAdd=new string[]{oprtn.Owner.Email};
                email1.setToAddresses(toAdd);
            email1.setSubject('Opportunity Not Updated');
            email1.setPlainTextBody('Your Opportunity not updated since last 1 month');
            email1.setSenderDisplayName('Admin');
            messaging.SingleEmailMessage[] emails = new messaging.SingleEmailMessage[]{email1};
                messaging.sendEmail(emails);
            System.debug( 'Email Sended to  : ' + oprtn.Owner.Email);
            
        }
    }
}
/*
mailToOpportunityOwner MTO = new mailToOpportunityOwner();
String sch = '20 30 8 12 12 ?';
String jobID = system.schedule('Merge Job', sch, MTO);
*/