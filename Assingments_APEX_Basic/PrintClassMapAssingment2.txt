public class PrintClassMap {
    
    public static Map<Class__c, Set<Student__c>> ListClassStudent()
    {
        Map<Class__c, Set<Student__c>> classStudentMap = new Map<Class__c, Set<Student__c>>();
        List<Class__c> classNameList = [SELECT Name, (SELECT Id, Name FROM students__r) FROM Class__c];
        for(Class__c className : classNameList)
        {
            SET<Student__c> studentIdSet = new  SET<Student__c>();
            studentIdSet.addAll(className.Students__r);
            classStudentMap.put(className, studentIdSet);
        }
        return classStudentMap;
    }
   
}


/*
Map<Class__c, Set<Student__c>> ClassStudentMap = PrintClassMap.ListClassStudent();
for(Class__c cls : ClassStudentMap.keySet())
{
    system.debug(cls.Name+'   '+ ClassStudentMap.get(cls));
    
}*/
